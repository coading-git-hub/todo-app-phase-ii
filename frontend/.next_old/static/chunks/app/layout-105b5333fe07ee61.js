(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1408:(e,t,n)=>{"use strict";n.d(t,{N:()=>g});var r=n(5155),s=n(2115),i=n(296),o=n(4416),a=n(9686),l=n(3127);class c extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:n}=e,i=(0,s.useId)(),o=(0,s.useRef)(null),a=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:u}=(0,s.useContext)(l.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:s}=a.current;if(n||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let l=document.createElement("style");return u&&(l.nonce=u),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),(0,r.jsx)(c,{isPresent:n,childRef:o,sizeRef:a,children:s.cloneElement(t,{ref:o})})}let d=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:l,custom:c,presenceAffectsLayout:d,mode:f}=e,p=(0,o.M)(h),m=(0,s.useId)(),x=(0,s.useCallback)(e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;l&&l()},[p,l]),g=(0,s.useMemo)(()=>({id:m,initial:n,isPresent:i,custom:c,onExitComplete:x,register:e=>(p.set(e,!1),()=>p.delete(e))}),d?[Math.random(),x]:[i,x]);return(0,s.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[i]),s.useEffect(()=>{i||p.size||!l||l()},[i]),"popLayout"===f&&(t=(0,r.jsx)(u,{isPresent:i,children:t})),(0,r.jsx)(a.t.Provider,{value:g,children:t})};function h(){return new Map}var f=n(5601);let p=e=>e.key||"";function m(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var x=n(6553);let g=e=>{let{children:t,custom:n,initial:a=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:u="sync",propagate:h=!1}=e,[g,v]=(0,f.xQ)(h),w=(0,s.useMemo)(()=>m(t),[t]),y=h&&!g?[]:w.map(p),j=(0,s.useRef)(!0),E=(0,s.useRef)(w),b=(0,o.M)(()=>new Map),[C,P]=(0,s.useState)(w),[S,k]=(0,s.useState)(w);(0,x.E)(()=>{j.current=!1,E.current=w;for(let e=0;e<S.length;e++){let t=p(S[e]);y.includes(t)?b.delete(t):!0!==b.get(t)&&b.set(t,!1)}},[S,y.length,y.join("-")]);let N=[];if(w!==C){let e=[...w];for(let t=0;t<S.length;t++){let n=S[t],r=p(n);y.includes(r)||(e.splice(t,0,n),N.push(n))}"wait"===u&&N.length&&(e=N),k(m(e)),P(w);return}let{forceRender:_}=(0,s.useContext)(i.L);return(0,r.jsx)(r.Fragment,{children:S.map(e=>{let t=p(e),s=(!h||!!g)&&(w===S||y.includes(t));return(0,r.jsx)(d,{isPresent:s,initial:(!j.current||!!a)&&void 0,custom:s?void 0:n,presenceAffectsLayout:c,mode:u,onExitComplete:s?void 0:()=>{if(!b.has(t))return;b.set(t,!0);let e=!0;b.forEach(t=>{t||(e=!1)}),e&&(null==_||_(),k(E.current),h&&(null==v||v()),l&&l())},children:e},t)})})}},2903:(e,t,n)=>{Promise.resolve().then(n.bind(n,7151))},3836:()=>{},4097:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_f367f3"}},4269:(e,t,n)=>{"use strict";n.d(t,{cn:()=>i});var r=n(2821),s=n(5889);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.QP)((0,r.$)(t))}},6443:(e,t,n)=>{"use strict";n.d(t,{d:()=>d,t:()=>l});var r=n(5155),s=n(2115),i=n(1408),o=n(4486);let a=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[n,i]=(0,s.useState)([]),o=e=>{i(t=>t.filter(t=>t.id!==e))};return(0,r.jsxs)(a.Provider,{value:{toasts:n,addToast:(e,t)=>{let n=Math.random().toString(36).substring(2,9),r={id:n,message:e,type:t};i(e=>[...e,r]),setTimeout(()=>{o(n)},5e3)},removeToast:o},children:[t,(0,r.jsx)(c,{toasts:n,removeToast:o})]})}function c(e){let{toasts:t,removeToast:n}=e;return(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:(0,r.jsx)(i.N,{children:t.map(e=>(0,r.jsx)(u,{toast:e,removeToast:n},e.id))})})}function u(e){let{toast:t,removeToast:n}=e;return(0,r.jsxs)(o.P.div,{initial:{opacity:0,y:-20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:20,scale:.8},className:"flex items-center p-4 rounded-md shadow-lg max-w-sm ".concat((()=>{switch(t.type){case"success":return"bg-green-500 text-white";case"error":return"bg-red-500 text-white";case"warning":return"bg-yellow-500 text-gray-900";case"info":return"bg-blue-500 text-white";default:return"bg-gray-800 text-white"}})()),children:[(0,r.jsx)("span",{className:"flex-1",children:t.message}),(0,r.jsx)("button",{onClick:()=>n(t.id),className:"ml-4 text-white hover:text-gray-200 focus:outline-none",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function d(){let e=(0,s.useContext)(a);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},7151:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(5155);n(3836);var s=n(4097),i=n.n(s),o=n(2115),a=n(5704);let l=(0,o.createContext)(void 0);function c(e){let{children:t}=e,[n,s]=(0,o.useState)(null),[i,c]=(0,o.useState)(!0);(0,o.useEffect)(()=>{localStorage.getItem("token"),c(!1)},[]);let u=async(e,t)=>{try{let n=await fetch("".concat(a.env.NEXT_PUBLIC_API_URL,"/api/auth/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!n.ok){let e=await n.json();throw Error(e.detail||"Sign in failed")}let{access_token:r,user:i}=await n.json();localStorage.setItem("token",r),s(i)}catch(e){throw Error(e.message||"Sign in failed")}},d=async(e,t)=>{try{let n=await fetch("".concat(a.env.NEXT_PUBLIC_API_URL,"/api/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!n.ok){let e=await n.json();throw Error(e.detail||"Sign up failed")}let r=await n.json();s(r)}catch(e){throw Error(e.message||"Sign up failed")}};return(0,r.jsx)(l.Provider,{value:{user:n,loading:i,signin:u,signup:d,signout:()=>{localStorage.removeItem("token"),s(null)},isAuthenticated:!!n},children:t})}var u=n(6443),d=n(4269);function h(e){let{children:t}=e;return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:(0,d.cn)("min-h-screen bg-background font-sans antialiased",i().className),children:(0,r.jsx)(u.t,{children:(0,r.jsx)(c,{children:t})})})})}}},e=>{e.O(0,[881,590,441,255,358],()=>e(e.s=2903)),_N_E=e.O()}]);
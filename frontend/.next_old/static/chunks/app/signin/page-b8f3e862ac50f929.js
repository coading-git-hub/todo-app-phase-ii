(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[217],{960:(e,t,r)=>{"use strict";r.d(t,{u:()=>a});var s=r(5125);let n=r(5704).env.NEXT_PUBLIC_API_URL||"http://localhost:8000",a=s.A.create({baseURL:"".concat(n,"/api"),headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var t;return(null==(t=e.response)?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/signin"),Promise.reject(e)})},1050:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(5155),n=r(9391),a=r(4486);function i(){return(0,s.jsx)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"min-h-screen bg-gradient-to-br from-background to-muted flex items-center justify-center p-4",children:(0,s.jsxs)(a.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"max-w-md w-full bg-card rounded-2xl shadow-xl p-8 border",children:[(0,s.jsx)(a.P.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-2xl font-bold text-center text-foreground mb-8",children:"Sign In"}),(0,s.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:(0,s.jsx)(n.T,{mode:"signin"})})]})})}},1166:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var s=r(5155),n=r(2115),a=r(3101),i=r(4269);let o=(0,a.F)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:a,icon:l,children:c,...d}=e;return(0,s.jsxs)("button",{className:(0,i.cn)(o({variant:n,size:a,className:r})),ref:t,...d,children:[l&&(0,s.jsx)(l,{className:"w-4 h-4 mr-2"}),c]})});l.displayName="Button"},4269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(2821),n=r(5889);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}},5249:(e,t,r)=>{Promise.resolve().then(r.bind(r,1050))},5590:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var s=r(5155),n=r(2115),a=r(4269);let i=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,s.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},6443:(e,t,r)=>{"use strict";r.d(t,{d:()=>u,t:()=>l});var s=r(5155),n=r(2115),a=r(1408),i=r(4486);let o=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[r,a]=(0,n.useState)([]),i=e=>{a(t=>t.filter(t=>t.id!==e))};return(0,s.jsxs)(o.Provider,{value:{toasts:r,addToast:(e,t)=>{let r=Math.random().toString(36).substring(2,9),s={id:r,message:e,type:t};a(e=>[...e,s]),setTimeout(()=>{i(r)},5e3)},removeToast:i},children:[t,(0,s.jsx)(c,{toasts:r,removeToast:i})]})}function c(e){let{toasts:t,removeToast:r}=e;return(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:(0,s.jsx)(a.N,{children:t.map(e=>(0,s.jsx)(d,{toast:e,removeToast:r},e.id))})})}function d(e){let{toast:t,removeToast:r}=e;return(0,s.jsxs)(i.P.div,{initial:{opacity:0,y:-20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:20,scale:.8},className:"flex items-center p-4 rounded-md shadow-lg max-w-sm ".concat((()=>{switch(t.type){case"success":return"bg-green-500 text-white";case"error":return"bg-red-500 text-white";case"warning":return"bg-yellow-500 text-gray-900";case"info":return"bg-blue-500 text-white";default:return"bg-gray-800 text-white"}})()),children:[(0,s.jsx)("span",{className:"flex-1",children:t.message}),(0,s.jsx)("button",{onClick:()=>r(t.id),className:"ml-4 text-white hover:text-gray-200 focus:outline-none",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function u(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},9391:(e,t,r)=>{"use strict";r.d(t,{T:()=>d});var s=r(5155),n=r(2115),a=r(7260),i=r(5590),o=r(1166),l=r(960),c=r(6443);function d(e){let{mode:t}=e,[r,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(""),[f,h]=(0,n.useState)(""),[p,x]=(0,n.useState)(!1),g=(0,a.useRouter)(),v="signup"===t,{addToast:b}=(0,c.d)(),y=async e=>{e.preventDefault(),x(!0);try{if(v){if(u!==f){b("Passwords do not match","error"),x(!1);return}await l.u.post("/auth/signup",{email:r,password:u}),b("Account created successfully!","success")}else{let{access_token:e}=(await l.u.post("/auth/signin",{email:r,password:u})).data;localStorage.setItem("token",e),b("Signed in successfully!","success")}g.push("/tasks"),g.refresh()}catch(e){var t,s;console.error("Auth error:",e),b((null==(s=e.response)||null==(t=s.data)?void 0:t.detail)||"An error occurred during authentication","error")}finally{x(!1)}};return(0,s.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-1",children:"Email"}),(0,s.jsx)(i.p,{id:"email",type:"email",value:r,onChange:e=>d(e.target.value),required:!0,className:"w-full",placeholder:"your@email.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-1",children:"Password"}),(0,s.jsx)(i.p,{id:"password",type:"password",value:u,onChange:e=>m(e.target.value),required:!0,className:"w-full",placeholder:"••••••••"})]}),v&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-1",children:"Confirm Password"}),(0,s.jsx)(i.p,{id:"confirmPassword",type:"password",value:f,onChange:e=>h(e.target.value),required:!0,className:"w-full",placeholder:"••••••••"})]}),(0,s.jsx)(o.$,{type:"submit",disabled:p,className:"w-full",children:p?"Processing...":v?"Sign Up":"Sign In"}),(0,s.jsx)("div",{className:"text-center text-sm text-muted-foreground mt-4",children:v?(0,s.jsxs)("span",{children:["Already have an account?"," ",(0,s.jsx)("a",{href:"/signin",className:"text-primary hover:underline",children:"Sign In"})]}):(0,s.jsxs)("span",{children:["Don't have an account?"," ",(0,s.jsx)("a",{href:"/signup",className:"text-primary hover:underline",children:"Sign Up"})]})})]})}}},e=>{e.O(0,[590,352,441,255,358],()=>e(e.s=5249)),_N_E=e.O()}]);